/* file path: Microsoft Visual Studio 9.0\VC\include\vadefs.h */
#ifdef __cplusplus
#    define _ADDRESSOF(v) (&reinterpret_cast<const char&>(v))
#else
#    define _ADDRESSOF(v) (&(v))
#endif

typedef char* va_list;
// 64位下栈是8字节对齐的，所以要用long long
#define _INTSIZEOF(n) ((sizeof(n) + sizeof(long long) - 1) & ~(sizeof(long long) - 1))
/*
#define va_start(ap, v) ((ap) = (va_list)_ADDRESSOF(v) + _INTSIZEOF(v))
#define va_arg(ap, t) (*(t*)(((ap) += _INTSIZEOF(t)) - _INTSIZEOF(t)))
#define va_end(ap) ((ap) = (va_list)0) */
#define va_start(v, l) __builtin_va_start(v, l)
#define va_end(v) __builtin_va_end(v)
#define va_arg(v, l) __builtin_va_arg(v, l)
#if !defined(__STRICT_ANSI__) || __STDC_VERSION__ + 0 >= 199900L
#    define va_copy(d, s) __builtin_va_copy(d, s)
#endif
#define __va_copy(d, s) __builtin_va_copy(d, s)